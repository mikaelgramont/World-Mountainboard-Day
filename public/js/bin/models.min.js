$(function(){window.Rider=Backbone.Model.extend({defaults:function(){return{username:"unknown"}}}),window.RiderList=Backbone.Collection.extend({model:Rider,url:"//test.api.ridedb.dev/riders/"}),window.Riders=new RiderList,window.RiderView=Backbone.View.extend({tagName:"li",template:_.template($("#rider-template").html()),events:{},initialize:function(){this.model.bind("destroy",this.remove,this)},render:function(){return $(this.el).html(this.template(this.model.toJSON())),this},remove:function(){$(this.el).remove()},clear:function(){this.model.destroy()}}),window.AppView=Backbone.View.extend({el:$("#main"),initialize:function(){this.input=this.$("#new-todo"),Riders.bind("add",this.addOne,this),Riders.bind("reset",this.addAll,this),Riders.fetch()},addOne:function(a){var b=new RiderView({model:a});this.$("#rider-list").append(b.render().el)},addAll:function(){Riders.each(this.addOne)}}),window.App=new AppView});